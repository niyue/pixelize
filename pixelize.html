<!DOCTYPE html>
<html>
	<head>
	  <meta charset="utf-8">
	  <title>SeuratJS &mdash; Animation</title>
	  
	  <script type="text/javascript" src="https://raw.github.com/DmitryBaranovskiy/raphael/master/raphael-min.js"></script>
	  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	  <script type="text/javascript" src="./seurat.js"></script>
	  <script type="text/javascript">
	    var map;
	    $(document).ready(function(){
	      $('.seuratjs-example').click(function(){
			var width = $(this).width(); var height = $(this).height();
			
			/* We are replacing the original image with a div that will serve as Raphael's container. */
			var raphaelContainer = $('<div id="'+$(this).attr('id')+'"></div>')
				.width(width)
				.height(height);		
			$(this).replaceWith(raphaelContainer);
			
			var paper = new Raphael(document.getElementById($(this).attr('id')),width,height+5);
			
			/* SeuratJS code */
			paper.seurat({ imageSource: 'images/sample.jpg',
				animator: function(elm, x,y,step){
					var anim = Raphael.animation({r: 7}, 350).delay(35*(x+y));
					elm.animate(anim);}});
			});
	    });
  		</script>
	</head>
	<body>
		<pre><img src="images/sample.jpg" id="ex1" class='seuratjs-example' style="width:1000px;"/></pre>
	</body>
</html>